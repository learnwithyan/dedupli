const a0_0x45ed1d=a0_0x4cce;(function(_0x4e872c,_0x5be49b){const _0x3071b3=a0_0x4cce,_0x2c2386=_0x4e872c();while(!![]){try{const _0x5760b6=-parseInt(_0x3071b3(0x186))/0x1*(-parseInt(_0x3071b3(0x1aa))/0x2)+parseInt(_0x3071b3(0x156))/0x3+-parseInt(_0x3071b3(0x169))/0x4*(-parseInt(_0x3071b3(0x18b))/0x5)+parseInt(_0x3071b3(0x151))/0x6+-parseInt(_0x3071b3(0x174))/0x7+parseInt(_0x3071b3(0x162))/0x8+parseInt(_0x3071b3(0x18d))/0x9*(-parseInt(_0x3071b3(0x1a5))/0xa);if(_0x5760b6===_0x5be49b)break;else _0x2c2386['push'](_0x2c2386['shift']());}catch(_0x405dfd){_0x2c2386['push'](_0x2c2386['shift']());}}}(a0_0x2113,0xf41e5));var vscode=require(a0_0x45ed1d(0x160));const fs=require('fs'),path=require(a0_0x45ed1d(0x1a4)),Conf=require(a0_0x45ed1d(0x159))[a0_0x45ed1d(0x167)],{setTranslBundle,tDev}=require('./funcs.obf.js');let db,store;setTranslBundle();const baseAchievements=[{'id':a0_0x45ed1d(0x194),'title':a0_0x45ed1d(0x18e)+tDev(a0_0x45ed1d(0x18f)),'xp':0x4},{'id':'dedupe_maniac_10','title':a0_0x45ed1d(0x16d)+tDev('10CleansManiac'),'xp':0x28},{'id':a0_0x45ed1d(0x18c),'title':a0_0x45ed1d(0x195)+tDev('20CleansManiac'),'xp':0x50},{'id':'dedupe_maniac_40','title':'😌\x20'+tDev(a0_0x45ed1d(0x19c)),'xp':0xa0},{'id':a0_0x45ed1d(0x17c),'title':a0_0x45ed1d(0x195)+tDev(a0_0x45ed1d(0x179)),'xp':0xf0},{'id':'dedupe_maniac_100','title':a0_0x45ed1d(0x170)+tDev(a0_0x45ed1d(0x15e)),'xp':0x190},{'id':a0_0x45ed1d(0x1a1),'title':a0_0x45ed1d(0x166)+tDev(a0_0x45ed1d(0x18a)),'xp':0x1e0},{'id':'dedupe_maniac_140','title':a0_0x45ed1d(0x1a9)+tDev('140CleansManiac'),'xp':0x230},{'id':'dedupe_maniac_160','title':a0_0x45ed1d(0x195)+tDev('160CleansManiac'),'xp':0x280},{'id':a0_0x45ed1d(0x172),'title':a0_0x45ed1d(0x1a6)+tDev('180CleansManiac'),'xp':0x2d0},{'id':a0_0x45ed1d(0x16c),'title':a0_0x45ed1d(0x195)+tDev(a0_0x45ed1d(0x157)),'xp':0x320},{'id':a0_0x45ed1d(0x199),'title':'😎\x20'+tDev(a0_0x45ed1d(0x189)),'xp':0x3c0},{'id':a0_0x45ed1d(0x183),'title':'🤩\x20'+tDev(a0_0x45ed1d(0x181)),'xp':0x460},{'id':'dedupe_maniac_320','title':a0_0x45ed1d(0x195)+tDev(a0_0x45ed1d(0x187)),'xp':0x500},{'id':a0_0x45ed1d(0x198),'title':a0_0x45ed1d(0x192)+tDev(a0_0x45ed1d(0x193)),'xp':0x5f0},{'id':'dedupe_maniac_450','title':a0_0x45ed1d(0x195)+tDev('450CleansManiac'),'xp':0x708},{'id':a0_0x45ed1d(0x165),'title':a0_0x45ed1d(0x170)+tDev(a0_0x45ed1d(0x178)),'xp':0x7d0},{'id':'dedupe_maniac_1000','title':a0_0x45ed1d(0x170)+tDev(a0_0x45ed1d(0x190)),'xp':0xfa0},{'id':a0_0x45ed1d(0x180),'title':a0_0x45ed1d(0x170)+tDev(a0_0x45ed1d(0x16b)),'xp':0x1770},{'id':a0_0x45ed1d(0x150),'title':'😜\x20'+tDev(a0_0x45ed1d(0x173)),'xp':0x2710},{'id':a0_0x45ed1d(0x163),'title':a0_0x45ed1d(0x170)+tDev(a0_0x45ed1d(0x15a)),'xp':0x36b0}];function a0_0x2113(){const _0x4b682c=['dedupe_maniac_3500','includes','dedupe_maniac_500','🙃\x20','default','amount','12820mADwCK','title','1500CleansManiac','dedupe_maniac_200','😎\x20','filter','timestamp','😜\x20','xp_history','dedupe_maniac_180','2500CleansManiac','5832197xcVJxb','forEach','achievements','Achievement\x20unlocked','500CleansManiac','60CleansManiac','command','showInformationMessage','dedupe_maniac_60','localeCompare','toDateString','streak','dedupe_maniac_1500','280CleansManiac','commands','dedupe_maniac_280','map','clean_streak_','1HLNtmX','320CleansManiac','from','240CleansManiac','120CleansManiac','2880IjBBsq','dedupe_maniac_20','11988yNWbUl','😉\x20','Beginner','1000CleansManiac','number','🥳\x20','380CleansManiac','starter','🤓\x20','unlocked','manual','dedupe_maniac_380','dedupe_maniac_240','executeCommand','sort','40CleansManiac','l10n','setDate','window','getDate','dedupe_maniac_120','date','reduce','path','34280mDynWK','😻\x20','dedupli','entries','😺\x20','686974oUGbCh','slice','\x20day','dedupe_maniac_2500','11679660UaeHXn','toISOString','object','length','array','4155606jmmuNe','200CleansManiac','achievement_id','conf','3500CleansManiac','push','set','find','100CleansManiac','get','vscode','dedupli.com8','7022376vIUwVs'];a0_0x2113=function(){return _0x4b682c;};return a0_0x2113();}function initDb(_0x589ed6){const _0x25e7cf=a0_0x45ed1d,_0x3d03db={'xp_history':{'type':_0x25e7cf(0x155),'default':[]},'unlocked':{'type':_0x25e7cf(0x155),'default':[]},'streak_days':{'type':_0x25e7cf(0x155),'default':[]},'combo':{'type':_0x25e7cf(0x153),'default':{'lastActionTime':0x0,'comboCount':0x0}}};store=new Conf({'projectName':_0x25e7cf(0x1a7),'schema':_0x3d03db}),store[_0x25e7cf(0x15c)](_0x25e7cf(0x176),baseAchievements);}function addXP(_0x21836b,_0x38b0f7=a0_0x45ed1d(0x197)){const _0x5b7f87=a0_0x45ed1d,_0x4cd8e0=store[_0x5b7f87(0x15f)](_0x5b7f87(0x171));_0x4cd8e0[_0x5b7f87(0x15b)]({'amount':_0x21836b,'source':_0x38b0f7,'timestamp':new Date()[_0x5b7f87(0x152)]()}),store[_0x5b7f87(0x15c)](_0x5b7f87(0x171),_0x4cd8e0),checkAndUnlockAchievements();}function getDb(){return store;}function getLevelThresholds(){const _0x431432=a0_0x45ed1d;return baseAchievements[_0x431432(0x184)](_0x2c8bb9=>_0x2c8bb9['xp'])[_0x431432(0x16e)](_0x45b267=>_0x45b267>0x0)[_0x431432(0x19b)]((_0x50275d,_0x520163)=>_0x50275d-_0x520163);}function getLevel(_0x53a40f){const _0x35bcf1=a0_0x45ed1d;let _0x33b84c=getLevelThresholds();return _0x33b84c[_0x35bcf1(0x16e)](_0xf7520f=>_0x53a40f>=_0xf7520f)[_0x35bcf1(0x154)];};function getNextLevelXP(_0x5209f2){const _0x1c69e5=a0_0x45ed1d;let _0x110005=getLevelThresholds();const _0x5169fe=_0x110005[_0x1c69e5(0x15d)](_0x5982c3=>_0x5209f2<_0x5982c3);return _0x5169fe?_0x5169fe:null;}function a0_0x4cce(_0x3a8ecf,_0x3e622a){const _0x211390=a0_0x2113();return a0_0x4cce=function(_0x4ccef5,_0x41b237){_0x4ccef5=_0x4ccef5-0x14e;let _0x3cc123=_0x211390[_0x4ccef5];return _0x3cc123;},a0_0x4cce(_0x3a8ecf,_0x3e622a);};function getNextNextLevelXP(_0x1269ff){const _0x44f55b=a0_0x45ed1d,_0x3ca70b=getLevelThresholds(),_0x4b2b40=_0x3ca70b['filter'](_0x2b78e8=>_0x1269ff<_0x2b78e8);return _0x4b2b40[_0x44f55b(0x154)]>=0x2?_0x4b2b40[0x1]:null;}function checkAndUnlockAchievements(){const _0x3bfe97=a0_0x45ed1d,_0x797f2b=getTotalXP(),_0x292629=getStreakCount(),_0x2d3ee1=store['get'](_0x3bfe97(0x196))[_0x3bfe97(0x184)](_0x383ca8=>_0x383ca8[_0x3bfe97(0x158)]),_0x54ac0e=store[_0x3bfe97(0x15f)]('achievements'),_0x792a80=['😄','😎','🤩','🥳','😊','😁','😌','😃','🙂','😜','😉','🙃','😺','😸','😻'],_0x3e75f2=Array[_0x3bfe97(0x188)]({'length':0x1e},(_0x114e56,_0x402f7b)=>{const _0x2e268a=_0x3bfe97,_0x5a17c3=_0x402f7b+0x1,_0x3abcd4=_0x792a80[_0x402f7b%_0x792a80[_0x2e268a(0x154)]];return{'id':_0x2e268a(0x185)+_0x5a17c3,'title':_0x3abcd4+'\x20'+_0x5a17c3+_0x2e268a(0x14f)+(_0x5a17c3>0x1?'s':'')+'\x20cleaner','streak':_0x5a17c3};}),_0xbaf051=[...baseAchievements,..._0x3e75f2],_0x4aea75=[];for(const _0x3bd655 of _0xbaf051){const _0x51cab4=_0x2d3ee1[_0x3bfe97(0x164)](_0x3bd655['id']),_0x1b6c95=_0x3bd655['xp']&&_0x797f2b>=_0x3bd655['xp'],_0x168d0e=_0x3bd655[_0x3bfe97(0x17f)]&&_0x292629>=_0x3bd655[_0x3bfe97(0x17f)];if(!_0x51cab4&&(_0x1b6c95||_0x168d0e)){_0x4aea75[_0x3bfe97(0x15b)]({'achievement_id':_0x3bd655['id'],'unlockedAt':new Date()[_0x3bfe97(0x152)]()});const _0x15cebc=vscode[_0x3bfe97(0x19f)][_0x3bfe97(0x17b)](vscode[_0x3bfe97(0x19d)]['t'](_0x3bfe97(0x177))+':\x20'+_0x3bd655[_0x3bfe97(0x16a)],{'modal':![]},{'title':tDev('Show\x20stats'),'command':_0x3bfe97(0x161)});_0x15cebc&&_0x15cebc[_0x3bfe97(0x17a)]==='dedupli.com8'&&vscode[_0x3bfe97(0x182)][_0x3bfe97(0x19a)](_0x15cebc[_0x3bfe97(0x17a)]);}}_0x4aea75[_0x3bfe97(0x154)]&&store[_0x3bfe97(0x15c)](_0x3bfe97(0x196),[...store[_0x3bfe97(0x15f)](_0x3bfe97(0x196)),..._0x4aea75]);}function getUnlockedAchievements(){const _0xf5c896=store['get']('unlocked'),_0x20c692=store['get']('achievements');return[_0x20c692,_0xf5c896];}function getTotalXP(){const _0x1e8901=a0_0x45ed1d;return store[_0x1e8901(0x15f)]('xp_history')['filter'](_0xc64e51=>typeof _0xc64e51[_0x1e8901(0x168)]===_0x1e8901(0x191))[_0x1e8901(0x1a3)]((_0x5c1185,_0x520331)=>_0x5c1185+_0x520331[_0x1e8901(0x168)],0x0);}function getStreakCount(){const _0x5633fd=a0_0x45ed1d,_0x57d7b7=[...store[_0x5633fd(0x15f)]('streak_days')][_0x5633fd(0x19b)]((_0xb3e50,_0x2f2545)=>_0x2f2545[_0x5633fd(0x1a2)][_0x5633fd(0x17d)](_0xb3e50['date']));let _0x10c2df=0x0,_0x10c9b6=new Date();for(const _0x54096b of _0x57d7b7){const _0x424483=new Date(_0x54096b[_0x5633fd(0x1a2)]);if(_0x424483[_0x5633fd(0x17e)]()===_0x10c9b6[_0x5633fd(0x17e)]())_0x10c2df++,_0x10c9b6[_0x5633fd(0x19e)](_0x10c9b6[_0x5633fd(0x1a0)]()-0x1);else break;}return _0x10c2df;}function getXPByDayChartData(_0xd3d3ec=0x7){const _0x30b6d8=a0_0x45ed1d,_0x44f083={};return store['get'](_0x30b6d8(0x171))[_0x30b6d8(0x175)](_0x1ddce1=>{const _0xa641d4=_0x30b6d8,_0x475159=new Date(_0x1ddce1[_0xa641d4(0x16f)])[_0xa641d4(0x152)]()[_0xa641d4(0x14e)](0x0,0xa);_0x44f083[_0x475159]=(_0x44f083[_0x475159]||0x0)+_0x1ddce1[_0xa641d4(0x168)];}),Object[_0x30b6d8(0x1a8)](_0x44f083)[_0x30b6d8(0x184)](([_0x37ee1f,_0x14d166])=>({'date':_0x37ee1f,'amount':_0x14d166}))[_0x30b6d8(0x19b)]((_0x3ea1e6,_0x5678be)=>_0x3ea1e6['date'][_0x30b6d8(0x17d)](_0x5678be[_0x30b6d8(0x1a2)]))[_0x30b6d8(0x14e)](-_0xd3d3ec);}module['exports']={'initDb':initDb,'getDb':getDb,'addXP':addXP,'getUnlockedAchievements':getUnlockedAchievements,'checkAndUnlockAchievements':checkAndUnlockAchievements,'getTotalXP':getTotalXP,'getStreakCount':getStreakCount,'getXPByDayChartData':getXPByDayChartData,'getLevel':getLevel,'getNextLevelXP':getNextLevelXP,'getNextNextLevelXP':getNextNextLevelXP,'getLevelThresholds':getLevelThresholds};