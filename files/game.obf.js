const a0_0x18db43=a0_0x5663;(function(_0x23d6f7,_0x594665){const _0x4e6ab3=a0_0x5663,_0x4c9a65=_0x23d6f7();while(!![]){try{const _0xd1038c=-parseInt(_0x4e6ab3(0xc1))/0x1*(-parseInt(_0x4e6ab3(0x9c))/0x2)+parseInt(_0x4e6ab3(0xab))/0x3*(-parseInt(_0x4e6ab3(0xbc))/0x4)+parseInt(_0x4e6ab3(0xdb))/0x5+parseInt(_0x4e6ab3(0xb2))/0x6*(-parseInt(_0x4e6ab3(0xb4))/0x7)+-parseInt(_0x4e6ab3(0xb3))/0x8*(-parseInt(_0x4e6ab3(0xc8))/0x9)+-parseInt(_0x4e6ab3(0xa6))/0xa+parseInt(_0x4e6ab3(0xc9))/0xb*(parseInt(_0x4e6ab3(0x9b))/0xc);if(_0xd1038c===_0x594665)break;else _0x4c9a65['push'](_0x4c9a65['shift']());}catch(_0x5a6b33){_0x4c9a65['push'](_0x4c9a65['shift']());}}}(a0_0x56cc,0x57e26));var vscode=require(a0_0x18db43(0x84));function a0_0x56cc(){const _0x55c535=['2bSxcrC','xp_history','commands','280CleansManiac','160CleansManiac','😜\x20','dedupe_maniac_2500','forEach','default','dedupe_maniac_1000','2772540QKAwOe','reduce','push','140CleansManiac','get','1253865RdaSbt','getDate','60CleansManiac','\x20day','unlocked','dedupe_maniac_40','1500CleansManiac','6vDruJV','8JoOdmq','1528261zGNvTP','streak_days','starter','dedupe_maniac_3500','😉\x20Beginner','filter','timestamp','\x20cleaner','4UNEKBO','450CleansManiac','l10n','lang','dedupe_maniac_20','594310cRKLlq','achievements','slice','object','380CleansManiac','title','dedupe_maniac_160','2245059FastPp','187oZuvOD','achievement_id','dedupe_maniac_180','find','100CleansManiac','date','dedupe_maniac_100','3500CleansManiac','😌\x20','path','dedupe_maniac_240','dedupe_maniac_320','toDateString','array','180CleansManiac','200CleansManiac','toISOString','set','1697800HsSixT','320CleansManiac','dedupe_maniac_10','dedupli.com8','length','conf','map','setDate','amount','vscode','dedupe_maniac_450','localeCompare','dedupe_maniac_1500','sort','dedupli','🤩\x20','streak','exports','dedupe_maniac_140','🙃\x20','entries','😎\x20','clean_streak_','20CleansManiac','dedupe_maniac_120','500CleansManiac','240CleansManiac','40CleansManiac','10CleansManiac','executeCommand','🤓\x20','showInformationMessage','63660QkgFih'];a0_0x56cc=function(){return _0x55c535;};return a0_0x56cc();}const fs=require('fs'),path=require(a0_0x18db43(0xd2)),Conf=require(a0_0x18db43(0x80))[a0_0x18db43(0xa4)];let db,store;const baseAchievements=[{'id':a0_0x18db43(0xb6),'title':a0_0x18db43(0xb8),'xp':0x4},{'id':a0_0x18db43(0x7d),'title':a0_0x18db43(0x90)+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0x97)),'xp':0x28},{'id':a0_0x18db43(0xc0),'title':a0_0x18db43(0x99)+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0x92)),'xp':0x50},{'id':a0_0x18db43(0xb0),'title':a0_0x18db43(0xd1)+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0x96)),'xp':0xa0},{'id':'dedupe_maniac_60','title':a0_0x18db43(0x99)+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0xad)),'xp':0xf0},{'id':a0_0x18db43(0xcf),'title':a0_0x18db43(0xa1)+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0xcd)),'xp':0x190},{'id':a0_0x18db43(0x93),'title':a0_0x18db43(0x8e)+vscode[a0_0x18db43(0xbe)]['t']('120CleansManiac'),'xp':0x1e0},{'id':a0_0x18db43(0x8d),'title':'😺\x20'+vscode['l10n']['t'](a0_0x18db43(0xa9)),'xp':0x230},{'id':a0_0x18db43(0xc7),'title':a0_0x18db43(0x99)+vscode['l10n']['t'](a0_0x18db43(0xa0)),'xp':0x280},{'id':a0_0x18db43(0xcb),'title':'😻\x20'+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0xd7)),'xp':0x2d0},{'id':'dedupe_maniac_200','title':'🤓\x20'+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0xd8)),'xp':0x320},{'id':a0_0x18db43(0xd3),'title':a0_0x18db43(0x90)+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0x95)),'xp':0x3c0},{'id':'dedupe_maniac_280','title':a0_0x18db43(0x8a)+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0x9f)),'xp':0x460},{'id':a0_0x18db43(0xd4),'title':a0_0x18db43(0x99)+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0x7c)),'xp':0x500},{'id':'dedupe_maniac_380','title':'🥳\x20'+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0xc5)),'xp':0x5f0},{'id':a0_0x18db43(0x85),'title':a0_0x18db43(0x99)+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0xbd)),'xp':0x708},{'id':'dedupe_maniac_500','title':a0_0x18db43(0xa1)+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0x94)),'xp':0x7d0},{'id':a0_0x18db43(0xa5),'title':a0_0x18db43(0xa1)+vscode['l10n']['t']('1000CleansManiac'),'xp':0xfa0},{'id':a0_0x18db43(0x87),'title':'😜\x20'+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0xb1)),'xp':0x1770},{'id':a0_0x18db43(0xa2),'title':'😜\x20'+vscode[a0_0x18db43(0xbe)]['t']('2500CleansManiac'),'xp':0x2710},{'id':a0_0x18db43(0xb7),'title':'😜\x20'+vscode[a0_0x18db43(0xbe)]['t'](a0_0x18db43(0xd0)),'xp':0x36b0}];function a0_0x5663(_0x895bb6,_0x4600ee){const _0x56cce5=a0_0x56cc();return a0_0x5663=function(_0x566338,_0x534c86){_0x566338=_0x566338-0x7c;let _0x41a811=_0x56cce5[_0x566338];return _0x41a811;},a0_0x5663(_0x895bb6,_0x4600ee);}function initDb(_0x28593b){const _0x1845ff=a0_0x18db43,_0x2aa03b={'xp_history':{'type':_0x1845ff(0xd6),'default':[]},'achievements':{'type':_0x1845ff(0xd6),'default':baseAchievements},'unlocked':{'type':_0x1845ff(0xd6),'default':[]},'streak_days':{'type':_0x1845ff(0xd6),'default':[]},'combo':{'type':_0x1845ff(0xc4),'default':{'lastActionTime':0x0,'comboCount':0x0}}};store=new Conf({'projectName':_0x1845ff(0x89),'schema':_0x2aa03b}),store[_0x1845ff(0xda)](_0x1845ff(0xc2),baseAchievements);}function addXP(_0x51f495,_0x3d62c6='manual'){const _0x498f17=a0_0x18db43,_0x549f71=store[_0x498f17(0xaa)]('xp_history');_0x549f71[_0x498f17(0xa8)]({'amount':_0x51f495,'source':_0x3d62c6,'timestamp':new Date()[_0x498f17(0xd9)]()}),store[_0x498f17(0xda)](_0x498f17(0x9d),_0x549f71),checkAndUnlockAchievements();}function getDb(){return store;}function getLevelThresholds(){const _0x171b2e=a0_0x18db43;return baseAchievements[_0x171b2e(0x81)](_0x4455b2=>_0x4455b2['xp'])[_0x171b2e(0xb9)](_0x1ead4c=>_0x1ead4c>0x0)[_0x171b2e(0x88)]((_0x2dd1d4,_0x566857)=>_0x2dd1d4-_0x566857);}function getLevel(_0x36b960){const _0x475760=a0_0x18db43;let _0x5cbeff=getLevelThresholds();return _0x5cbeff[_0x475760(0xb9)](_0x5224d5=>_0x36b960>=_0x5224d5)[_0x475760(0x7f)];};function getNextLevelXP(_0x1597cb){const _0x2602ab=a0_0x18db43;let _0x2560dd=getLevelThresholds();const _0x330ac6=_0x2560dd[_0x2602ab(0xcc)](_0x156205=>_0x1597cb<_0x156205);return _0x330ac6?_0x330ac6:null;};function getNextNextLevelXP(_0x5c68bc){const _0x1623cc=a0_0x18db43,_0x517cf2=getLevelThresholds(),_0x3d5a71=_0x517cf2[_0x1623cc(0xb9)](_0xea5784=>_0x5c68bc<_0xea5784);return _0x3d5a71[_0x1623cc(0x7f)]>=0x2?_0x3d5a71[0x1]:null;}function checkAndUnlockAchievements(){const _0x255adb=a0_0x18db43,_0x4e8c98=getTotalXP(),_0x1e0ae7=getStreakCount(),_0x201e8b=store['get'](_0x255adb(0xaf))[_0x255adb(0x81)](_0x3d62e9=>_0x3d62e9[_0x255adb(0xca)]),_0x3f5ed7=store['get'](_0x255adb(0xc2)),_0x139b9c=['😄','😎','🤩','🥳','😊','😁','😌','😃','🙂','😜','😉','🙃','😺','😸','😻'],_0x53ee12=Array['from']({'length':0x1e},(_0x3262f5,_0xdb6f6)=>{const _0x141cc5=_0x255adb,_0x9aac9c=_0xdb6f6+0x1,_0x2acf12=_0x139b9c[_0xdb6f6%_0x139b9c[_0x141cc5(0x7f)]];return{'id':_0x141cc5(0x91)+_0x9aac9c,'title':_0x2acf12+'\x20'+_0x9aac9c+_0x141cc5(0xae)+(_0x9aac9c>0x1?'s':'')+_0x141cc5(0xbb),'streak':_0x9aac9c};}),_0x4e0dee=[...baseAchievements,..._0x53ee12],_0x2bd824=[];for(const _0xb809b5 of _0x4e0dee){const _0x3f78f4=_0x201e8b['includes'](_0xb809b5['id']),_0x1f18c0=_0xb809b5['xp']&&_0x4e8c98>=_0xb809b5['xp'],_0x1a502e=_0xb809b5[_0x255adb(0x8b)]&&_0x1e0ae7>=_0xb809b5[_0x255adb(0x8b)];if(!_0x3f78f4&&(_0x1f18c0||_0x1a502e)){_0x2bd824[_0x255adb(0xa8)]({'achievement_id':_0xb809b5['id'],'unlockedAt':new Date()[_0x255adb(0xd9)]()});const _0x383c09=vscode['window'][_0x255adb(0x9a)](vscode[_0x255adb(0xbe)]['t']('Achievement\x20unlocked')+':\x20'+_0xb809b5[_0x255adb(0xc6)],{'modal':![]},{'title':vscode[_0x255adb(0xbe)]['t']('Show\x20stats',this[_0x255adb(0xbf)]),'command':_0x255adb(0x7e)});_0x383c09&&_0x383c09['command']===_0x255adb(0x7e)&&vscode[_0x255adb(0x9e)][_0x255adb(0x98)](_0x383c09['command']);}}_0x2bd824[_0x255adb(0x7f)]&&store[_0x255adb(0xda)](_0x255adb(0xaf),[...store['get'](_0x255adb(0xaf)),..._0x2bd824]);}function getUnlockedAchievements(){const _0x5c0a15=a0_0x18db43,_0x1a0d5f=store[_0x5c0a15(0xaa)](_0x5c0a15(0xaf)),_0x459004=store['get'](_0x5c0a15(0xc2));return[_0x459004,_0x1a0d5f];}function getTotalXP(){const _0x1a8244=a0_0x18db43;return store[_0x1a8244(0xaa)](_0x1a8244(0x9d))[_0x1a8244(0xb9)](_0x4a2278=>typeof _0x4a2278[_0x1a8244(0x83)]==='number')[_0x1a8244(0xa7)]((_0x3c004d,_0x2a7b1e)=>_0x3c004d+_0x2a7b1e['amount'],0x0);}function getStreakCount(){const _0x244657=a0_0x18db43,_0x64b1fd=[...store['get'](_0x244657(0xb5))]['sort']((_0x121caa,_0x3fd201)=>_0x3fd201[_0x244657(0xce)][_0x244657(0x86)](_0x121caa[_0x244657(0xce)]));let _0x4a2fa1=0x0,_0x1dc77d=new Date();for(const _0x43b012 of _0x64b1fd){const _0x3c612f=new Date(_0x43b012[_0x244657(0xce)]);if(_0x3c612f[_0x244657(0xd5)]()===_0x1dc77d[_0x244657(0xd5)]())_0x4a2fa1++,_0x1dc77d[_0x244657(0x82)](_0x1dc77d[_0x244657(0xac)]()-0x1);else break;}return _0x4a2fa1;}function getXPByDayChartData(_0x528c82=0x7){const _0x5c35fd=a0_0x18db43,_0x3c4d4d={};return store['get'](_0x5c35fd(0x9d))[_0x5c35fd(0xa3)](_0x5a796d=>{const _0x26808a=_0x5c35fd,_0xa5b41a=new Date(_0x5a796d[_0x26808a(0xba)])['toISOString']()[_0x26808a(0xc3)](0x0,0xa);_0x3c4d4d[_0xa5b41a]=(_0x3c4d4d[_0xa5b41a]||0x0)+_0x5a796d['amount'];}),Object[_0x5c35fd(0x8f)](_0x3c4d4d)['map'](([_0x2aa8a3,_0x4aae5c])=>({'date':_0x2aa8a3,'amount':_0x4aae5c}))[_0x5c35fd(0x88)]((_0x5baeb3,_0x45ba56)=>_0x5baeb3[_0x5c35fd(0xce)]['localeCompare'](_0x45ba56[_0x5c35fd(0xce)]))[_0x5c35fd(0xc3)](-_0x528c82);}module[a0_0x18db43(0x8c)]={'initDb':initDb,'getDb':getDb,'addXP':addXP,'getUnlockedAchievements':getUnlockedAchievements,'checkAndUnlockAchievements':checkAndUnlockAchievements,'getTotalXP':getTotalXP,'getStreakCount':getStreakCount,'getXPByDayChartData':getXPByDayChartData,'getLevel':getLevel,'getNextLevelXP':getNextLevelXP,'getNextNextLevelXP':getNextNextLevelXP,'getLevelThresholds':getLevelThresholds};